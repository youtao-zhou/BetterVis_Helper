--- 
title: "An Introduction to BetterVis"
author: "Your Name"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
description: "The official documentation for the BetterVis R package, providing a comprehensive guide to creating beautiful and informative visualizations."
---

# An Introduction to BetterVis

```{r setup, include=FALSE}
# 全局 knitr 设置
# Global knitr settings
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, fig.align = 'center')

# 从 R/ 目录加载所有函数
# 这可以确保书中所有的示例都能正确运行
# Load all functions from the R/ directory
# This ensures all examples in the book will run correctly
source_files <- list.files("R", pattern = "\\.R$", full.names = TRUE)
for (file in source_files) {
  source(file)
}

# 加载本书示例所需的包
# Load necessary packages for the examples throughout the book
library(ggplot2)
library(dplyr)
library(ggpubr)
library(cowplot)
library(RColorBrewer)
```

![](images/logo.png)

**BetterVis** is designed to create beautiful graphics with elegant and concise code. It is especially suitable for medical researchers, helping to reduce the inefficient time they spend on plot beautification and to achieve publication-ready graphics for mainstream journals in the shortest possible time. Before using BetterVis, you should be aware of the following information.

## Prerequisites

**You are a current or former R user,** comfortable working in an editor like RStudio or VS Code.

**You have used `ggplot2` to create plots before.** Even if you aren't an expert, you understand its basic syntax and grammar.

## How to Use This Guide

This guide covers the functions and their corresponding examples, showcasing the results of advanced visualizations on the sample data included in the **BetterVis** package.

Each chapter represents a fundamental plot type, such as boxplots, bar charts, etc., and provides a detailed explanation of its functions and the meaning of their parameters.

If you are looking for a specific type of graphic, you don't need to read the entire guide. Using your browser's search function (**Ctrl+F**) is a great way to quickly locate the section you need.

## The Core Philosophy of BetterVis

Our authors have encapsulated the complex process of creating beautiful graphics into functions, exposing the necessary parameters for users to make adjustments. You can use a simplified function call for quick plotting, or alternatively, use more detailed parameters for fine-tuned control. In either case, it retains the advantage of producing advanced visualizations in a short amount of time. The brief example below will help you understand this better.

### Simple Example

```R
# 模拟数据以运行示例
# Mock data to run the example
phenotype_data <- data.frame(
  stage = sample(c("I", "II", "III", "IV"), 100, replace = TRUE),
  age = rnorm(100, 50, 10),
  gender = sample(c("Male", "Female"), 100, replace = TRUE),
  CA125 = rnorm(100, 30, 10),
  CEA = rnorm(100, 5, 2),
  CA15.3 = rnorm(100, 25, 8)
)
expression_data <- as.data.frame(matrix(rnorm(100 * 50), nrow = 50, ncol = 100))
colnames(expression_data) <- paste0("Sample", 1:100)
rownames(expression_data) <- paste0("Gene", 1:50)

# 这是一个假设的函数调用，因为 BetterVis_Heatmap_Mantel 并不在您提供的文件中
# This is a hypothetical function call as BetterVis_Heatmap_Mantel was not in the provided files
# BetterVis_Heatmap_Mantel(phenotype_data, expression_data, spec_select=c("stage", "age", "gender", "CA125", "CEA", "CA15.3"))
```

![](images/simple_example.png)

### Advanced Example 

```R
# 这是一个假设的函数调用
# This is a hypothetical function call
# BetterVis_Heatmap_Mantel(phenotype_data, expression_data, spec_select=c("stage", "age", "gender", "CA125", "CEA", "CA15.3"),
#                          significant_symbol = TRUE,
#                          heatmap_color = brewer.pal(11, "PuOr"),
#                          line_size = c(0.5, 1, 2),
#                          line_color =  BetterVis_Color(type="discrete", odd_or_even="odd", n=3, style="Science"),
#                          phenotype_text_size = 5) +
# theme(legend.text = element_text(size=14), legend.title = element_text(size=16))
```

![](images/advanced_example.png)

You can specify various parameters for fine-tuning. However, if you don't provide them, the function uses default values that have been carefully chosen through extensive testing to be suitable for most common scenarios.
